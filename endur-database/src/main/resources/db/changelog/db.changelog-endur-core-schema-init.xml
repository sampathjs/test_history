<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
	http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.4.xsd">

    <changeSet author="Boris Liberman" id="Endur Core Schema Init">

        <createTable tableName="ab_tran" schemaName="dbo">
            <column name="tran_num" type="int">
                <constraints primaryKey="true"/>
            </column>
            <column name="tran_group" type="int"/>
            <column name="deal_tracking_num" type="int"/>
            <column name="tran_type" type="tinyint"/>
            <column name="tran_status" type="tinyint"/>
            <column name="asset_type" type="tinyint"/>
            <column name="ins_num" type="int"/>
            <column name="ins_type" type="int"/>
            <column name="ins_class" type="tinyint"/>
            <column name="toolset" type="tinyint"/>
            <column name="buy_sell" type="smallint"/>
            <column name="reference" type="varchar"/>
            <column name="internal_bunit" type="int"/>
            <column name="internal_lentity" type="int"/>
            <column name="external_bunit" type="int"/>
            <column name="external_lentity" type="int"/>
            <column name="internal_portfolio" type="int"/>
            <column name="external_portfolio" type="int"/>
            <column name="internal_contact" type="int"/>
            <column name="external_contact" type="int"/>
            <column name="book" type="varchar"/>
            <column name="trade_date" type="datetime"/>
            <column name="input_date" type="datetime"/>
            <column name="settle_date" type="datetime"/>
            <column name="position" type="float"/>
            <column name="price" type="float"/>
            <column name="rate" type="float"/>
            <column name="currency" type="int"/>
            <column name="cflow_type" type="int"/>
            <column name="version_number" type="int"/>
            <column name="proceeds" type="float"/>
            <column name="mvalue" type="float"/>
            <column name="personnel_id" type="int"/>
            <column name="last_update" type="datetime"/>
            <column name="ins_sub_type" type="int"/>
            <column name="broker_id" type="int"/>
            <column name="start_date" type="datetime"/>
            <column name="maturity_date" type="datetime"/>
            <column name="perpetual_pos_date" type="datetime"/>
            <column name="trade_time" type="datetime"/>
            <column name="offset_tran_num" type="int"/>
            <column name="offset_tran_type" type="tinyint"/>
            <column name="trade_flag" type="tinyint"/>
            <column name="current_flag" type="tinyint"/>
            <column name="fx_yld_basis_1" type="tinyint"/>
            <column name="fx_yld_basis_2" type="tinyint"/>
            <column name="unit" type="smallint"/>
            <column name="lock_user_id" type="int"/>
            <column name="lock_type" type="int"/>
            <column name="idx_group" type="int"/>
            <column name="idx_subgroup" type="int"/>
            <column name="template_tran_num" type="int"/>
            <column name="otc_clearing_broker_id" type="int"/>
            <column name="base_ins_type" type="int"/>
            <column name="int_trading_strategy" type="int"/>
            <column name="ext_trading_strategy" type="int"/>
            <column name="pass_thru_id" type="int"/>
            <column name="regulatory_reporting" type="int"/>
            <column name="alt_tran_status" type="int"/>
            <column name="market_px_index_id" type="int"/>
        </createTable>

        <createTable tableName="ab_tran_info" schemaName="dbo">
            <column name="tran_num" type="int">
                <constraints primaryKey="true"/>
            </column>
            <column name="type_id" type="int">
                <constraints primaryKey="true"/>
            </column>
            <column name="vv" type="varchar"/>
            <column name="personnel_id" type="int"/>
            <column name="last_update" type="datetime"/>
        </createTable>

        <createTable tableName="currency" schemaName="dbo">
            <column name="`name`" type="varchar"/>
            <column name="id_number" type="int">
                <constraints primaryKey="true"/>
            </column>
            <column name="default_index" type="int"/>
            <column name="spot_index" type="int"/>
            <column name="convention" type="int"/>
            <column name="holiday_id" type="int"/>
            <column name="base_unit" type="int"/>
            <column name="round" type="int"/>
            <column name="description" type="varchar"/>
            <column name="round_type" type="int"/>
            <column name="euro" type="int"/>
            <column name="euro_conversion" type="float"/>
            <column name="currency_zone" type="int"/>
            <column name="euro_scenario_flag" type="tinyint"/>
            <column name="advance_release_days" type="int"/>
            <column name="user_id" type="int"/>
            <column name="last_update" type="datetime"/>
            <column name="precious_metal" type="tinyint"/>
            <column name="auto_conversion_flag" type="tinyint"/>
            <column name="version_number" type="int"/>
        </createTable>

        <createTable tableName="idx_unit" schemaName="dbo">
            <column name="unit_id" type="int">
                <constraints primaryKey="true"/>
            </column>
            <column name="unit_label" type="varchar"/>
            <column name="unit_type_id" type="int"/>
            <column name="user_id" type="int"/>
            <column name="last_update" type="datetime"/>
            <column name="version_number" type="int"/>
            <column name="mass_type_id" type="int"/>
            <column name="kilogram_mass_unit" type="int"/>
            <column name="m3_volume_unit" type="int"/>
        </createTable>

        <createTable tableName="party" schemaName="dbo">
            <column name="party_id" type="int">
                <constraints primaryKey="true"/>
            </column>
            <column name="int_ext" type="int"/>
            <column name="party_class" type="int"/>
            <column name="party_status" type="int"/>
            <column name="short_name" type="varchar"/>
            <column name="long_name" type="varchar"/>
            <column name="inputter_id" type="int"/>
            <column name="authoriser_id" type="int"/>
            <column name="last_update" type="datetime"/>
            <column name="party_version" type="int"/>
            <column name="default_portfolio_id" type="int"/>
            <column name="agency_activities" type="int"/>
            <column name="linked_party_id" type="int"/>
        </createTable>

        <createTable tableName="personnel" schemaName="dbo">
            <column name="id_number" type="int">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="varchar"/>
            <column name="title" type="varchar"/>
            <column name="first_name" type="varchar"/>
            <column name="last_name" type="varchar"/>
            <column name="phone" type="varchar"/>
            <column name="fax" type="varchar"/>
            <column name="personnel_type" type="int"/>
            <column name="status" type="int"/>
            <column name="password_date" type="datetime"/>
            <column name="authoriser" type="int"/>
            <column name="last_update" type="datetime"/>
            <column name="personnel_version" type="int"/>
            <column name="employee_id" type="varchar"/>
            <column name="email" type="varchar"/>
            <column name="addr1" type="varchar"/>
            <column name="addr2" type="varchar"/>
            <column name="city" type="varchar"/>
            <column name="state_id" type="int"/>
            <column name="country" type="int"/>
            <column name="mail_code" type="varchar"/>
            <column name="tsv_group_id" type="int"/>
            <column name="priority_user" type="int"/>
            <column name="password_never_expires" type="int"/>
            <column name="short_alias_name" type="varchar"/>
            <column name="time_zone" type="int"/>
            <column name="photo_node_id" type="int"/>
            <column name="signature_node_id" type="int"/>
            <column name="citizenship_country" type="int"/>
            <column name="residence_country" type="int"/>
            <column name="dpa_group_id" type="int"/>
        </createTable>

        <createTable tableName="portfolio" schemaName="dbo">
            <column name="id_number" type="int">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="varchar"/>
            <column name="long_name" type="varchar"/>
            <column name="portfolio_type" type="int"/>
            <column name="restricted" type="int"/>
            <column name="authoriser_id" type="int"/>
            <column name="last_update" type="datetime"/>
            <column name="portfolio_version" type="int"/>
            <column name="requires_strategy" type="int"/>
        </createTable>

        <createTable tableName="tran_info_types" schemaName="dbo">
            <column name="type_id" type="int">
                <constraints primaryKey="true"/>
            </column>
            <column name="type_name" type="varchar"/>
            <column name="data_type" type="int"/>
            <column name="personnel_id" type="int"/>
            <column name="last_update" type="datetime"/>
            <column name="ins_or_tran" type="tinyint"/>
            <column name="required_flag" type="tinyint"/>
            <column name="default_value" type="varchar"/>
            <column name="pick_list_id" type="int"/>
            <column name="offset_info_id" type="int"/>
            <column name="sec_group_id" type="int"/>
            <column name="audit_flag" type="int"/>
            <column name="display_order" type="int"/>
            <column name="read_only" type="tinyint"/>
            <column name="save_to_db" type="tinyint"/>
            <column name="multi_select_flag" type="tinyint"/>
            <column name="user_table_name" type="varchar"/>
            <column name="tran_num_col_name" type="varchar"/>
            <column name="user_id_col_name" type="varchar"/>
            <column name="tran_db_version_col_name" type="varchar"/>
            <column name="date_modified_col_name" type="varchar"/>
            <column name="udw_definition_id" type="int"/>
            <column name="user_table_value_col_name" type="varchar"/>
            <column name="ins_num_col_name" type="varchar"/>
            <column name="param_seq_num_col_name" type="varchar"/>
            <column name="user_table_value_format_str" type="varchar"/>
        </createTable>

        <createTable tableName="account" schemaName="dbo">
            <column name="account_id" type="int">
                <constraints primaryKey="true"/>
            </column>
            <column name="account_type" type="int"/>
            <column name="account_name" type="varchar"/>
            <column name="account_number" type="varchar"/>
            <column name="holder_id" type="int"/>
            <column name="description" type="varchar"/>
            <column name="user_id" type="int"/>
            <column name="last_update" type="datetime"/>
            <column name="account_version" type="int"/>
            <column name="account_status" type="int"/>
            <column name="account_class" type="int"/>
            <column name="on_bal_sheet_flag" type="tinyint"/>
            <column name="allow_multi_units" type="tinyint"/>
            <column name="linked_account_id" type="int"/>
            <column name="portfolio_id" type="int"/>
            <column name="clearing_flag" type="int"/>
            <column name="account_legal_name" type="varchar"/>
            <column name="account_country" type="int"/>
            <column name="treasury_manager" type="int"/>
            <column name="business_unit_owner" type="int"/>
            <column name="date_opened" type="datetime"/>
            <column name="date_closed" type="datetime"/>
            <column name="general_ledger_account" type="varchar"/>
            <column name="base_currency" type="int"/>
            <column name="sweep_enabled_flag" type="int"/>
            <column name="nostro_memo_flag" type="int"/>
            <column name="plink_account_id" type="int"/>
            <column name="account_iban" type="varchar"/>
            <column name="bal_reporting_type_id" type="int"/>
            <column name="bal_reconcile_flag" type="int"/>
            <column name="auto_balance_flag" type="int"/>
            <column name="last_stmt_end_date" type="datetime"/>
            <column name="next_stmt_end_date_seq" type="int"/>
            <column name="stmt_holiday" type="int"/>
            <column name="stmt_date_adjust_method" type="int"/>
            <column name="stmt_format" type="int"/>
        </createTable>

        <createTable tableName="tran_notepad" schemaName="dbo">
            <column name="tran_num" type="int">
                <constraints primaryKey="true"/>
            </column>
            <column name="note_type" type="int">
                <constraints primaryKey="true"/>
            </column>
            <column name="line_num" type="int"/>
            <column name="line_text" type="varchar"/>
            <column name="user_id" type="int"/>
            <column name="comment_num" type="int"/>
            <column name="comment_date" type="datetime"/>
            <column name="time_stamp" type="datetime"/>
            <column name="ins_num" type="int"/>
            <column name="comment_end_date" type="datetime"/>
        </createTable>

    </changeSet>
</databaseChangeLog>